# B树
> B树（英语：B-tree）又叫平衡多路查找树（M叉树），能够保持数据有序。这种数据结构能够让**查找数据、顺序访问、插入数据及删除**的动作，都在对数时间内完成。

## 特点

> 对于一个m阶的B树而言

- 每个节点最多有m-1个**关键字**（可以存有的键值对）。
- 根节点最少可以只有1个**关键字**。
- 非根节点至少有m/2（向上取整）个**关键字**。
- 每个节点中的关键字都按照从小到大的顺序排列，每个关键字的左子树中的所有关键字都小于它，而右子树中的所有关键字都大于它。
- 所有叶子节点都位于同一层，或者说根节点到每个叶子节点的长度都相同。
- 每个节点都存有索引和数据，也就是对应的key和value。

所以，根节点的**关键字**数量范围：`1 <= k <= m-1`，非根节点的**关键字**数量范围：`m/2 <= k <= m-1`。

对于一个5阶B树

![](https://i.loli.net/2021/03/16/f72rdmcRSlHhIUE.png)

# B+树

## 与B树的相同点

- 根节点至少一个元素
- 非根节点元素范围：m/2 <= k <= m-1

## 与B树的区别

- B+树有两种类型的节点：内部结点（也称索引结点）和叶子结点。
  - 内部节点就是非叶子节点，内部节点不存储数据，只存储索引
  - 数据都存储在叶子节点。
- 内部结点中的key都按照从小到大的顺序排列，对于内部结点中的一个key，左树中的所有key都小于它，右子树中的key都**大于等于**它。叶子结点中的记录也按照key的大小排列。
- 每个叶子结点都存有相邻叶子结点的**指针**，叶子结点本身依关键字的大小自小而大顺序链接。
- 父节点存有右孩子的第一个元素的索引。

对于一个5阶B+树

![](https://i.loli.net/2021/03/16/LDBjFNZ5tnwW6Ge.png)

# 相关资料

- https://www.cs.usfca.edu/~galles/visualization/BTree.html
- https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html